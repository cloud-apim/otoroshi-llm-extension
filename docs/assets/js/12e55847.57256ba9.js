"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[8028],{5349:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>r,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var o=t(4848),s=t(8453);t(9229);const i={sidebar_position:5},a="MCP server exposition",l={id:"function-calling/mcp-plugins",title:"MCP server exposition",description:"MCP Http Plugin",source:"@site/docs/function-calling/mcp-plugins.mdx",sourceDirName:"function-calling",slug:"/function-calling/mcp-plugins",permalink:"/otoroshi-llm-extension/docs/function-calling/mcp-plugins",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"MCP Connectors",permalink:"/otoroshi-llm-extension/docs/function-calling/mcp-connectors"},next:{title:"MCP Connectors examples",permalink:"/otoroshi-llm-extension/docs/category/mcp-connectors-examples"}},r={},c=[{value:"MCP Http Plugin",id:"mcp-http-plugin",level:2},{value:"Configuration",id:"configuration",level:3},{value:"MCP SSE Plugin",id:"mcp-sse-plugin",level:2},{value:"Configuration",id:"configuration-1",level:3},{value:"MCP WebSocket Plugin",id:"mcp-websocket-plugin",level:2},{value:"Configuration",id:"configuration-2",level:3}];function u(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,s.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.h1,{id:"mcp-server-exposition",children:"MCP server exposition"}),"\n",(0,o.jsx)(e.h2,{id:"mcp-http-plugin",children:"MCP Http Plugin"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:t(7925).A+"",width:"455",height:"864"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:t(4020).A+"",width:"821",height:"747"})}),"\n",(0,o.jsx)(e.h3,{id:"configuration",children:"Configuration"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-js",children:'{\n  "_loc": {\n    "tenant": "default",\n    "teams": [\n      "default"\n    ]\n  },\n  "id": "route_2629d12c2-130b-42d5-aba5-b584b95961c9",\n  "name": "MCP HTTP server exposition",\n  "description": "MCP HTTP server exposition",\n  "tags": [],\n  "metadata": {},\n  "enabled": true,\n  "debug_flow": false,\n  "export_reporting": false,\n  "capture": false,\n  "groups": [\n    "default"\n  ],\n  "bound_listeners": [],\n  "frontend": {\n    "domains": [\n      "mcp-http-expo.oto.tools"\n    ],\n    "strip_path": true,\n    "exact": false,\n    "headers": {},\n    "query": {},\n    "methods": []\n  },\n  "backend": {\n    "targets": [\n      {\n        "id": "target_1",\n        "hostname": "request.otoroshi.io",\n        "port": 443,\n        "tls": true,\n        "weight": 1,\n        "predicate": {\n          "type": "AlwaysMatch"\n        },\n        "protocol": "HTTP/1.1",\n        "ip_address": null,\n        "tls_config": {\n          "certs": [],\n          "trusted_certs": [],\n          "enabled": false,\n          "loose": false,\n          "trust_all": false\n        }\n      }\n    ],\n    "root": "/",\n    "rewrite": false,\n    "load_balancing": {\n      "type": "RoundRobin"\n    },\n    "client": {\n      "retries": 1,\n      "max_errors": 20,\n      "retry_initial_delay": 50,\n      "backoff_factor": 2,\n      "call_timeout": 30000,\n      "call_and_stream_timeout": 120000,\n      "connection_timeout": 10000,\n      "idle_timeout": 60000,\n      "global_timeout": 30000,\n      "sample_interval": 2000,\n      "proxy": {},\n      "custom_timeouts": [],\n      "cache_connection_settings": {\n        "enabled": false,\n        "queue_size": 2048\n      }\n    },\n    "health_check": {\n      "enabled": false,\n      "url": "",\n      "timeout": 5000,\n      "healthyStatuses": [],\n      "unhealthyStatuses": []\n    }\n  },\n  "backend_ref": null,\n  "plugins": [\n    {\n      "enabled": true,\n      "debug": false,\n      "plugin": "cp:otoroshi.next.plugins.OverrideHost",\n      "include": [],\n      "exclude": [],\n      "config": {},\n      "bound_listeners": [],\n      "plugin_index": {\n        "transform_request": 0\n      },\n      "nodeId": "cp:otoroshi.next.plugins.OverrideHost"\n    },\n    {\n      "enabled": true,\n      "debug": false,\n      "plugin": "cp:otoroshi_plugins.com.cloud.apim.otoroshi.extensions.aigateway.plugins.McpRespEndpoint",\n      "include": [],\n      "exclude": [],\n      "config": {\n        "name": "first-mcp-http-server",\n        "version": "1.0.0",\n        "refs": [\n          "tool-function_0511ff44-0ce5-487d-aa1c-d1980ac9a4b8"\n        ],\n        "mcp_refs": []\n      },\n      "bound_listeners": [],\n      "plugin_index": {},\n      "nodeId": "cp:otoroshi_plugins.com.cloud.apim.otoroshi.extensions.aigateway.plugins.McpRespEndpoint"\n    }\n  ],\n  "kind": "proxy.otoroshi.io/Route"\n}\n'})}),"\n",(0,o.jsx)(e.h2,{id:"mcp-sse-plugin",children:"MCP SSE Plugin"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:t(9006).A+"",width:"415",height:"746"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:t(725).A+"",width:"826",height:"736"})}),"\n",(0,o.jsx)(e.h3,{id:"configuration-1",children:"Configuration"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-js",children:'{\n  "_loc": {\n    "tenant": "default",\n    "teams": [\n      "default"\n    ]\n  },\n  "id": "route_73e79129a-1cc6-4473-970a-b80905e80c7b",\n  "name": "mcp-sse-exposition",\n  "description": "mcp-sse-exposition",\n  "tags": [],\n  "metadata": {},\n  "enabled": true,\n  "debug_flow": false,\n  "export_reporting": false,\n  "capture": false,\n  "groups": [\n    "default"\n  ],\n  "bound_listeners": [],\n  "frontend": {\n    "domains": [\n      "mcp-sse-exposition.oto.tools"\n    ],\n    "strip_path": true,\n    "exact": false,\n    "headers": {},\n    "query": {},\n    "methods": []\n  },\n  "backend": {\n    "targets": [\n      {\n        "id": "target_1",\n        "hostname": "request.otoroshi.io",\n        "port": 443,\n        "tls": true,\n        "weight": 1,\n        "predicate": {\n          "type": "AlwaysMatch"\n        },\n        "protocol": "HTTP/1.1",\n        "ip_address": null,\n        "tls_config": {\n          "certs": [],\n          "trusted_certs": [],\n          "enabled": false,\n          "loose": false,\n          "trust_all": false\n        }\n      }\n    ],\n    "root": "/",\n    "rewrite": false,\n    "load_balancing": {\n      "type": "RoundRobin"\n    },\n    "client": {\n      "retries": 1,\n      "max_errors": 20,\n      "retry_initial_delay": 50,\n      "backoff_factor": 2,\n      "call_timeout": 30000,\n      "call_and_stream_timeout": 120000,\n      "connection_timeout": 10000,\n      "idle_timeout": 60000,\n      "global_timeout": 30000,\n      "sample_interval": 2000,\n      "proxy": {},\n      "custom_timeouts": [],\n      "cache_connection_settings": {\n        "enabled": false,\n        "queue_size": 2048\n      }\n    },\n    "health_check": {\n      "enabled": false,\n      "url": "",\n      "timeout": 5000,\n      "healthyStatuses": [],\n      "unhealthyStatuses": []\n    }\n  },\n  "backend_ref": null,\n  "plugins": [\n    {\n      "enabled": true,\n      "debug": false,\n      "plugin": "cp:otoroshi.next.plugins.OverrideHost",\n      "include": [],\n      "exclude": [],\n      "config": {},\n      "bound_listeners": [],\n      "nodeId": "cp:otoroshi.next.plugins.OverrideHost",\n      "plugin_index": {\n        "transform_request": 0\n      }\n    },\n    {\n      "plugin_index": {},\n      "nodeId": "cp:otoroshi_plugins.com.cloud.apim.otoroshi.extensions.aigateway.plugins.McpSseEndpoint-0",\n      "plugin": "cp:otoroshi_plugins.com.cloud.apim.otoroshi.extensions.aigateway.plugins.McpSseEndpoint",\n      "enabled": true,\n      "debug": false,\n      "include": [],\n      "exclude": [],\n      "bound_listeners": [],\n      "config": {\n        "name": "mcp-sse",\n        "version": "1.0.0",\n        "refs": [\n          "tool-function_0511ff44-0ce5-487d-aa1c-d1980ac9a4b8"\n        ],\n        "mcp_refs": []\n      }\n    }\n  ],\n  "kind": "proxy.otoroshi.io/Route"\n}\n'})}),"\n",(0,o.jsx)(e.h2,{id:"mcp-websocket-plugin",children:"MCP WebSocket Plugin"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:t(3851).A+"",width:"408",height:"727"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:t(287).A+"",width:"823",height:"736"})}),"\n",(0,o.jsx)(e.h3,{id:"configuration-2",children:"Configuration"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-js",children:'{\n  "_loc": {\n    "tenant": "default",\n    "teams": [\n      "default"\n    ]\n  },\n  "id": "route_62c427cac-43c9-4d86-bab4-56cb0b61040b",\n  "name": "mcp-websocket-exposition",\n  "description": "mcp-websocket-exposition",\n  "tags": [],\n  "metadata": {},\n  "enabled": true,\n  "debug_flow": false,\n  "export_reporting": false,\n  "capture": false,\n  "groups": [\n    "default"\n  ],\n  "bound_listeners": [],\n  "frontend": {\n    "domains": [\n      "mcp-websocket-exposition.oto.tools"\n    ],\n    "strip_path": true,\n    "exact": false,\n    "headers": {},\n    "query": {},\n    "methods": []\n  },\n  "backend": {\n    "targets": [\n      {\n        "id": "target_1",\n        "hostname": "request.otoroshi.io",\n        "port": 443,\n        "tls": true,\n        "weight": 1,\n        "predicate": {\n          "type": "AlwaysMatch"\n        },\n        "protocol": "HTTP/1.1",\n        "ip_address": null,\n        "tls_config": {\n          "certs": [],\n          "trusted_certs": [],\n          "enabled": false,\n          "loose": false,\n          "trust_all": false\n        }\n      }\n    ],\n    "root": "/",\n    "rewrite": false,\n    "load_balancing": {\n      "type": "RoundRobin"\n    },\n    "client": {\n      "retries": 1,\n      "max_errors": 20,\n      "retry_initial_delay": 50,\n      "backoff_factor": 2,\n      "call_timeout": 30000,\n      "call_and_stream_timeout": 120000,\n      "connection_timeout": 10000,\n      "idle_timeout": 60000,\n      "global_timeout": 30000,\n      "sample_interval": 2000,\n      "proxy": {},\n      "custom_timeouts": [],\n      "cache_connection_settings": {\n        "enabled": false,\n        "queue_size": 2048\n      }\n    },\n    "health_check": {\n      "enabled": false,\n      "url": "",\n      "timeout": 5000,\n      "healthyStatuses": [],\n      "unhealthyStatuses": []\n    }\n  },\n  "backend_ref": null,\n  "plugins": [\n    {\n      "enabled": true,\n      "debug": false,\n      "plugin": "cp:otoroshi.next.plugins.OverrideHost",\n      "include": [],\n      "exclude": [],\n      "config": {},\n      "bound_listeners": [],\n      "nodeId": "cp:otoroshi.next.plugins.OverrideHost",\n      "plugin_index": {\n        "transform_request": 0\n      }\n    },\n    {\n      "plugin_index": {},\n      "nodeId": "cp:otoroshi_plugins.com.cloud.apim.otoroshi.extensions.aigateway.plugins.McpWebsocketEndpoint-0",\n      "plugin": "cp:otoroshi_plugins.com.cloud.apim.otoroshi.extensions.aigateway.plugins.McpWebsocketEndpoint",\n      "enabled": true,\n      "debug": false,\n      "include": [],\n      "exclude": [],\n      "bound_listeners": [],\n      "config": {\n        "name": "mcp-server",\n        "version": "1.0.0",\n        "refs": [\n          "tool-function_0511ff44-0ce5-487d-aa1c-d1980ac9a4b8"\n        ],\n        "mcp_refs": []\n      }\n    }\n  ],\n  "kind": "proxy.otoroshi.io/Route"\n}\n'})})]})}function d(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(u,{...n})}):u(n)}},9229:(n,e,t)=>{t(6540),t(4848)},4020:(n,e,t)=>{t.d(e,{A:()=>o});const o=t.p+"assets/images/mcp-http-server-exposition-configuration-df1f29ee3437cabcec21786f15dc77be.png"},7925:(n,e,t)=>{t.d(e,{A:()=>o});const o=t.p+"assets/images/mcp-http-server-exposition-plugins-list-33288e72f9729ef2d18e7a760f04e481.png"},725:(n,e,t)=>{t.d(e,{A:()=>o});const o=t.p+"assets/images/mcp-sse-exposition-configuration-4b4aa366c122ffde6ea3fdfb90d30182.png"},9006:(n,e,t)=>{t.d(e,{A:()=>o});const o=t.p+"assets/images/mcp-sse-exposition-plugins-list-b45ee3bee165b357adbfa26638ca12e7.png"},287:(n,e,t)=>{t.d(e,{A:()=>o});const o=t.p+"assets/images/mcp-websocket-exposition-configuration-4f684c39dd65e2bafdcfbcfc9160544b.png"},3851:(n,e,t)=>{t.d(e,{A:()=>o});const o=t.p+"assets/images/mcp-websocket-expostion-plugins-list-df6ee77cdaf3d26ca9f0684e8f014b4a.png"},8453:(n,e,t)=>{t.d(e,{R:()=>a,x:()=>l});var o=t(6540);const s={},i=o.createContext(s);function a(n){const e=o.useContext(i);return o.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:a(n.components),o.createElement(i.Provider,{value:e},n.children)}}}]);